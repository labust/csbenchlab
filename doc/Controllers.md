
## Matlab Class implementation

The Controller realized through a Matlab Class can be used both in Matlab and with Simulink and is recommended
way of implementing a new Controller. By defining the custom Controller information, the Controller simulink block
will be autogenerated in the '_sim_lib_.slx' library and will be ready to use in Simulink.

Each Matlab Class Controller should have the following form:

```
    TODO: links
    ParamDescriptor
    ParamSet
    LogEntry
    RegistryInfo
    IOArgiment
```


```matlab
% Controller1.m
classdef Controller1 < Controller

    properties (Constant)
        param_description = ParamSet( ...
                ParamDescriptor("p1", true), ...
                ParamDescriptor("p2", true), ...
        );


        registry_info = RegistryInfo("Controller1", true);

        log_description = {
            LogEntry('x1'), ...
            LogEntry('x2'), ...
            LogEntry('x3')
        };

        io_description = {
            IOArgument('input', "in1", 5)
        };
    end



    methods (Static)
        function data = create_data_model(params)
            data.x1 = zeros(params.p1, 1);
            data.x2 = zeros(params.p2, 1);
            data.x3 = 3;
            data.x4 = 5;
        end
    end

    methods

        function this = Controller1(varargin)
            this@Controller(varargin);
        end

        function this = on_configure(this)
            % Called only once at the start of the simulation
            this.data.x3 = 5;
        end

        function [this, u] = on_step(this, y_ref, y, dt, trajectory)
            % Called every step of the simulation
        end

    end
end

```

## Simulink implementation

The Controller realized as a Simulink block should have the following form:

1) Inputs
    1) (reference) - current reference value for the system states
    2) (measurement) - current system measured value of the system states
    3) (dt) - time difference between control steps

2) Outputs
    1) (control) - the control value (input to the dynamical system)
    1) (log (optional)) - logging data of the controller

Any other Controller definition may result in an unwanted behavior.
We recommend using Subsystem block for Simulink Controller implementation.

An example of the controller TODO:



## Python implementation
TODO: